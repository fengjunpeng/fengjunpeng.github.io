---
layout: post
title:  数据库的索引问题
subtitle:   
date:   2019-09-10
author: fengjp
catalog:    true
tags:
---

#   数据库的索引问题

##  索引是什么

增加索引可以快速找出特定的记录，mysql 的索引都是以 B- 树的形式保存。如果没有索引执行查询操作，mysql 会从第一个记录开始查找，直到找到符合条件的记录为止。表的数据越多，操作的代价越高。作为搜索条件的列上创建了索引， mysql 无需全表扫描即可得到目标记录所在的位置。

##  索引的种类

### 普通索引

最基本的索引类型，没有唯一性的限制。

create index < index name > on < tablename > ( 列 )

ALTER TABLE tablename ADD INDEX [ index name ] ( 列 )

### 唯一性索引

与普通索引基本相同，但是唯一区别是：唯一性索引的列表的索引列，必须唯一。

CREATE UNIQUE INDEX <索引的名字> ON tablename (列);

ALTER TABLE tablename ADD UNIQUE [ index name ] ( 列 );

### 主键

主键也是一种唯一性索引，但和索引区别是  
主键是一种约束，有唯一性的性质，但是唯一性索引不一定是主键，  
索引允许为空，主键不能为空，  
主键可以作为外键，但索引不能，  
一张表能创建多个索引，但是主键只有一个。

主键指定为 primary key。

### 全文索引

全文索引在 mysql 后面的 3.23.23 开始，索引类型为 fulltext ，可以建立在 VARCHAR 或 TEXT 上创建。

##  索引优缺点

### 优点

1、加快查询速度，快速找到特定记录

2、利用索引的唯一性标记唯一值

### 缺点

1、占用磁盘空间

2、执行 insert update delete 增加索引维护成本
